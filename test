--// Services
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local VirtualUser = game:GetService("VirtualUser")
local StarterGui = game:GetService("StarterGui")

local player = Players.LocalPlayer

--// GUI Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "FreezeGui"
ScreenGui.Parent = player:WaitForChild("PlayerGui")

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0, 220, 0, 160)
Frame.Position = UDim2.new(0.5, -110, 0.5, -80)
Frame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
Frame.Active = true
Frame.Draggable = true
Frame.Parent = ScreenGui

local UICorner = Instance.new("UICorner", Frame)
UICorner.CornerRadius = UDim.new(0, 10)

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Title.Text = "Freeze / Anti-AFK"
Title.TextColor3 = Color3.new(1,1,1)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 16
Title.Parent = Frame

local FreezeButton = Instance.new("TextButton")
FreezeButton.Size = UDim2.new(0, 180, 0, 35)
FreezeButton.Position = UDim2.new(0.5, -90, 0, 40)
FreezeButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
FreezeButton.Text = "Freeze: OFF"
FreezeButton.TextColor3 = Color3.new(1,1,1)
FreezeButton.Font = Enum.Font.GothamBold
FreezeButton.TextSize = 16
FreezeButton.Parent = Frame

local AntiAFKButton = Instance.new("TextButton")
AntiAFKButton.Size = UDim2.new(0, 180, 0, 35)
AntiAFKButton.Position = UDim2.new(0.5, -90, 0, 80)
AntiAFKButton.BackgroundColor3 = Color3.fromRGB(255, 170, 0)
AntiAFKButton.Text = "Anti-AFK: OFF"
AntiAFKButton.TextColor3 = Color3.new(1,1,1)
AntiAFKButton.Font = Enum.Font.GothamBold
AntiAFKButton.TextSize = 16
AntiAFKButton.Parent = Frame

local KillButton = Instance.new("TextButton")
KillButton.Size = UDim2.new(0, 180, 0, 30)
KillButton.Position = UDim2.new(0.5, -90, 0, 120)
KillButton.BackgroundColor3 = Color3.fromRGB(255, 60, 60)
KillButton.Text = "Kill Frame"
KillButton.TextColor3 = Color3.new(1,1,1)
KillButton.Font = Enum.Font.GothamBold
KillButton.TextSize = 16
KillButton.Parent = Frame

--// Variables
local frozen = false
local freezePosition = nil
local antiAFKEnabled = false

--// Notification Function
local function notify(title, text)
	pcall(function()
		StarterGui:SetCore("SendNotification", {
			Title = title;
			Text = text;
			Duration = 3;
		})
	end)
end

--// Freeze Function
FreezeButton.MouseButton1Click:Connect(function()
	frozen = not frozen
	local char = player.Character or player.CharacterAdded:Wait()
	local root = char:WaitForChild("HumanoidRootPart")

	if frozen then
		freezePosition = root.CFrame
		FreezeButton.Text = "Freeze: ON"
		FreezeButton.BackgroundColor3 = Color3.fromRGB(0, 255, 100)
		notify("Freeze Activ√© ‚ùÑÔ∏è", "Ton personnage est maintenant fig√©.")
	else
		freezePosition = nil
		FreezeButton.Text = "Freeze: OFF"
		FreezeButton.BackgroundColor3 = Color3.fromRGB(0, 170, 255)
		notify("Freeze D√©sactiv√© üèÉ", "Tu peux de nouveau bouger.")
	end
end)

--// Maintenir la position si freeze activ√©
RunService.RenderStepped:Connect(function()
	if frozen and freezePosition then
		local char = player.Character
		if char and char:FindFirstChild("HumanoidRootPart") then
			local root = char.HumanoidRootPart
			if (root.Position - freezePosition.Position).Magnitude > 0.1 then
				root.CFrame = freezePosition
			end
			root.Velocity = Vector3.new(0, 0, 0)
			root.RotVelocity = Vector3.new(0, 0, 0)
		end
	end
end)

--// Anti-AFK Logic
AntiAFKButton.MouseButton1Click:Connect(function()
	antiAFKEnabled = not antiAFKEnabled

	if antiAFKEnabled then
		AntiAFKButton.Text = "Anti-AFK: ON"
		AntiAFKButton.BackgroundColor3 = Color3.fromRGB(0, 255, 100)
		notify("Anti-AFK ‚úÖ", "Tu ne seras plus kick pour inactivit√©.")

		task.spawn(function()
			while antiAFKEnabled do
				VirtualUser:Button2Down(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
				task.wait(1)
				VirtualUser:Button2Up(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
				task.wait(60) -- petit d√©lai pour √©viter de spam
			end
		end)
	else
		AntiAFKButton.Text = "Anti-AFK: OFF"
		AntiAFKButton.BackgroundColor3 = Color3.fromRGB(255, 170, 0)
		notify("Anti-AFK ‚ùå", "Le mode anti-AFK est d√©sactiv√©.")
	end
end)

--// Kill GUI
KillButton.MouseButton1Click:Connect(function()
	notify("Interface supprim√©e", "Le menu Freeze a √©t√© ferm√©.")
	ScreenGui:Destroy()
end)
